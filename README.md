# CyberChef Pro (Browser Script)

网页划词解码工具。解决破烂平台老输出各种编码后的告警内容的问题。支持智能编码探测、JS/JSON 格式化、UI 自由缩放以及原地文本替换。

## ✨ 核心特性 (V2.0)

*   **🧠 智能探测**：划词后自动识别 Hex、URL、Base64 或 Unicode，无需手动点击，结果即刻呈现。
*   **📏 自由视窗**：面板支持**拖拽移动**和**右下角拉伸缩放**，轻松应对大段 Hex 流或长文本。
*   **✨ 代码美化**：内置简易格式化工具，一键将压缩的 JSON 或混淆的 JS 代码美化为可读格式。
*   **🔄 智能替换**：支持将解码结果替换回网页原文。自动识别 HTML 环境，将换行符智能转换为 `<br>`，解决“替换后变成一行”的显示问题。
*   **🛡️ 样式隔离**：采用 Shadow DOM 技术，拥有独立的磨砂黑 UI，绝不破坏原网页布局。

## 🛠 支持功能

| 按钮 | 功能说明 |
| :--- | :--- |
| **Hex** | 十六进制转字符串 (UTF-8)，支持自动去除空格/0x |
| **URL** | URL 解码，用于分析 Web 请求参数 |
| **Base64** | 标准 Base64 解码 |
| **PS-B64** | **PowerShell 专用** (UTF-16LE) Base64 解码，解决乱码问题 |
| **Unicode** | 解码 `\u4e2d\u6587` 格式字符 |
| **JS美化** | 格式化压缩后的 JSON 数据或 JavaScript 代码 |

## 🚀 安装方法

1.  安装浏览器扩展：**Violentmonkey** (暴力猴) 或 **Tampermonkey** (油猴)。
2.  点击扩展图标 -> **添加新脚本**。
3.  将 V2.0 版本的 JS 代码完整粘贴到编辑器中。
4.  按 `Ctrl + S` 保存即可生效。

## 📖 使用指南

1.  **触发**：在网页任意位置选中一段乱码（如 `%E4%BD%A0%E5%A5%BD`）。
2.  **开启**：点击选区旁出现的悬浮图标 **⚡️**。
3.  **查看**：
    *   脚本会自动计算并显示最可能的解码结果。
    *   如果自动识别不准，可点击顶部按钮手动切换（如 `Hex`, `Base64`）。
4.  **操作**：
    *   **缩放**：拖动面板右下角的斜线区域调整大小。
    *   **美化**：如果结果是 JSON，点击 `✨ JS美化`。
    *   **替换**：点击 `替换原文`，将明文直接覆盖网页上的乱码。

## ⚠️ 注意

*   **隐私安全**：所有逻辑均为本地 JavaScript 运算，**无网络请求**，适合处理敏感日志数据。
*   **替换限制**：智能替换功能在部分复杂的 Canvas 或特殊渲染的编辑器中可能受限。
